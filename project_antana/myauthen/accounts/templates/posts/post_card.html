<div class="bg-white rounded-lg shadow p-4 mb-4">
  <div class="flex items-center mb-4">
    <a href="{% url 'user_profile' post.user.username %}" class="flex items-center gap-2 hover:underline">
      {% if post.user.profile.profile_image %}
        <img src="{{ post.user.profile.profile_image.url }}" class="w-10 h-10 rounded-full object-cover">
      {% else %}
        <div class="w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-white font-bold">
          {{ post.user.username|slice:":1" }}
        </div>
      {% endif %}
      <span class="font-semibold text-gray-800">{{ post.user.username }}</span>
    </a>
    <span class="ml-auto text-sm text-gray-500">{{ post.created_at|timesince }} ago</span>
  </div>

  {% if post.title %}
    <h3 class="text-lg font-bold text-gray-900 mb-2">{{ post.title }}</h3>
  {% endif %}

  <p class="text-gray-700 mb-3 whitespace-pre-line">{{ post.caption }}</p>

  {% if post.history.image_url %}
    <img src="{{ post.history.image_url }}" alt="Post Image" class="rounded-lg w-full mb-3">
  {% endif %}

  {% if post.tags.all %}
    <div class="flex flex-wrap gap-2 mt-2">
      {% for tag in post.tags.all %}
        <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded">
          {{ tag.name }} ({{ tag.category }})
        </span>
      {% endfor %}
    </div>
  {% endif %}

  <div class="flex justify-between items-center mt-4 text-gray-500 text-sm">
    <button class="hover:text-red-500">‚ù§ 0</button>
    <button onclick="openCommentModal({{ post.id }})" class="hover:text-blue-600">üí¨ 0</button>
    <button class="hover:text-green-600">üîó ‡πÅ‡∏ä‡∏£‡πå</button>
    <button class="hover:text-purple-600">‚Üª ‡∏£‡∏µ‡∏°‡∏¥‡∏Å‡∏ã‡πå</button>
  </div>
</div>
