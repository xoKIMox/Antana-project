{% if page_obj.paginator.num_pages > 1 %}
<div class="flex flex-wrap items-center justify-center gap-2 mt-6">
    {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}{% if current_sort %}&sort={{ current_sort }}{% endif %}{% if current_filter %}&filter={{ current_filter }}{% endif %}"
        class="px-3 py-2 rounded bg-white border border-gray-300 text-gray-600 hover:bg-gray-50 transition shadow-sm"
        title="Previous">&lt;</a>
    {% endif %}

    {% for num in page_obj.paginator.page_range %}
    {% if page_obj.number == num %}
    <span class="px-3 py-2 rounded bg-black text-white font-semibold border border-black shadow-sm">{{ num }}</span>
    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %} <a
        href="?page={{ num }}{% if current_sort %}&sort={{ current_sort }}{% endif %}{% if current_filter %}&filter={{ current_filter }}{% endif %}"
        class="px-3 py-2 rounded bg-white border border-gray-300 text-gray-600 hover:bg-gray-50 transition shadow-sm">{{
        num }}</a>
        {% elif num == 1 or num == page_obj.paginator.num_pages %}
        <a href="?page={{ num }}{% if current_sort %}&sort={{ current_sort }}{% endif %}{% if current_filter %}&filter={{ current_filter }}{% endif %}"
            class="px-3 py-2 rounded bg-white border border-gray-300 text-gray-600 hover:bg-gray-50 transition shadow-sm">{{
            num }}</a>
        {% elif num == page_obj.number|add:'-3' or num == page_obj.number|add:'3' %}
        <span class="px-2 py-2 text-gray-400">...</span>
        {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}{% if current_sort %}&sort={{ current_sort }}{% endif %}{% if current_filter %}&filter={{ current_filter }}{% endif %}"
            class="px-3 py-2 rounded bg-white border border-gray-300 text-gray-600 hover:bg-gray-50 transition shadow-sm"
            title="Next">&gt;</a>
        {% endif %}
</div>
{% endif %}